{"ast":null,"code":"import jwtDecode from \"jwt-decode\";\nimport http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nconst apiEndPoint = apiUrl;\nconst tokenKey = \"token\"; // http.setJwt(getJwt());\n// export async function login(userName, password, type) {\n//   const { data: jwt } = await http.post(apiEndPoint, {\n//     userName,\n//     password,\n//     type,\n//   });\n//   localStorage.setItem(tokenKey, jwt);\n// }\n\nexport function login(userName, password, type) {\n  return http.post(apiEndPoint, {\n    userName,\n    password,\n    type\n  });\n} // export function logout() {\n//   localStorage.removeItem(tokenKey);\n// }\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n} // export function getJwt() {\n//   return localStorage.getItem(tokenKey);\n// }\n\nexport default {\n  login,\n  logout,\n  getCurrentUser // getJwt,\n\n};","map":{"version":3,"sources":["D:/OBEaaS/gitOBEaaS/OBE-as-a-Service/Presentation/src/services/authService.js"],"names":["jwtDecode","http","apiUrl","apiEndPoint","tokenKey","login","userName","password","type","post","getCurrentUser","jwt","localStorage","getItem","ex","logout"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,MAAMC,WAAW,GAAGD,MAApB;AACA,MAAME,QAAQ,GAAG,OAAjB,C,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmCC,IAAnC,EAAyC;AAC9C,SAAOP,IAAI,CAACQ,IAAL,CAAUN,WAAV,EAAuB;AAC5BG,IAAAA,QAD4B;AAE5BC,IAAAA,QAF4B;AAG5BC,IAAAA;AAH4B,GAAvB,CAAP;AAKD,C,CAED;AACA;AACA;;AAEA,OAAO,SAASE,cAAT,GAA0B;AAC/B,MAAI;AACF,UAAMC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqBT,QAArB,CAAZ;AACA,WAAOJ,SAAS,CAACW,GAAD,CAAhB;AACD,GAHD,CAGE,OAAOG,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF,C,CAED;AACA;AACA;;AAEA,eAAe;AACbT,EAAAA,KADa;AAEbU,EAAAA,MAFa;AAGbL,EAAAA,cAHa,CAIb;;AAJa,CAAf","sourcesContent":["import jwtDecode from \"jwt-decode\";\r\nimport http from \"./httpService\";\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nconst apiEndPoint = apiUrl;\r\nconst tokenKey = \"token\";\r\n\r\n// http.setJwt(getJwt());\r\n\r\n// export async function login(userName, password, type) {\r\n//   const { data: jwt } = await http.post(apiEndPoint, {\r\n//     userName,\r\n//     password,\r\n//     type,\r\n//   });\r\n//   localStorage.setItem(tokenKey, jwt);\r\n// }\r\n\r\nexport function login(userName, password, type) {\r\n  return http.post(apiEndPoint, {\r\n    userName,\r\n    password,\r\n    type,\r\n  });\r\n}\r\n\r\n// export function logout() {\r\n//   localStorage.removeItem(tokenKey);\r\n// }\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = localStorage.getItem(tokenKey);\r\n    return jwtDecode(jwt);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\n// export function getJwt() {\r\n//   return localStorage.getItem(tokenKey);\r\n// }\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n  // getJwt,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import jwtDecode from \"jwt-decode\";\nimport http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nconst apiEndPoint = apiUrl;\nconst tokenKey = \"token\";\nhttp.setJwt(getJwt());\nexport async function login(userName, password, type) {\n  const {\n    data: jwt\n  } = await http.post(apiEndPoint, {\n    userName,\n    password,\n    type\n  });\n  localStorage.setItem(tokenKey, jwt.data);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  getJwt\n};","map":{"version":3,"sources":["D:/OBEaaS/gitOBEaaS/OBE-as-a-Service/Presentation/src/services/authService.js"],"names":["jwtDecode","http","apiUrl","apiEndPoint","tokenKey","setJwt","getJwt","login","userName","password","type","data","jwt","post","localStorage","setItem","logout","removeItem","getCurrentUser","getItem","ex"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,MAAMC,WAAW,GAAGD,MAApB;AACA,MAAME,QAAQ,GAAG,OAAjB;AAEAH,IAAI,CAACI,MAAL,CAAYC,MAAM,EAAlB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,IAAzC,EAA+C;AACpD,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAgB,MAAMX,IAAI,CAACY,IAAL,CAAUV,WAAV,EAAuB;AACjDK,IAAAA,QADiD;AAEjDC,IAAAA,QAFiD;AAGjDC,IAAAA;AAHiD,GAAvB,CAA5B;AAKAI,EAAAA,YAAY,CAACC,OAAb,CAAqBX,QAArB,EAA+BQ,GAAG,CAACD,IAAnC;AACD;AAED,OAAO,SAASK,MAAT,GAAkB;AACvBF,EAAAA,YAAY,CAACG,UAAb,CAAwBb,QAAxB;AACD;AAED,OAAO,SAASc,cAAT,GAA0B;AAC/B,MAAI;AACF,UAAMN,GAAG,GAAGE,YAAY,CAACK,OAAb,CAAqBf,QAArB,CAAZ;AACA,WAAOJ,SAAS,CAACY,GAAD,CAAhB;AACD,GAHD,CAGE,OAAOQ,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;AAED,OAAO,SAASd,MAAT,GAAkB;AACvB,SAAOQ,YAAY,CAACK,OAAb,CAAqBf,QAArB,CAAP;AACD;AAED,eAAe;AACbG,EAAAA,KADa;AAEbS,EAAAA,MAFa;AAGbE,EAAAA,cAHa;AAIbZ,EAAAA;AAJa,CAAf","sourcesContent":["import jwtDecode from \"jwt-decode\";\r\nimport http from \"./httpService\";\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nconst apiEndPoint = apiUrl;\r\nconst tokenKey = \"token\";\r\n\r\nhttp.setJwt(getJwt());\r\n\r\nexport async function login(userName, password, type) {\r\n  const { data: jwt } = await http.post(apiEndPoint, {\r\n    userName,\r\n    password,\r\n    type,\r\n  });\r\n  localStorage.setItem(tokenKey, jwt.data);\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = localStorage.getItem(tokenKey);\r\n    return jwtDecode(jwt);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function getJwt() {\r\n  return localStorage.getItem(tokenKey);\r\n}\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n  getJwt,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}